export const createStreamPointLegendForm = l => { let e = l.labelFontSize, o = l.labelFontFamily, t = l.labelFontColor, i = document.getElementById(l.canvasId), n = i.getContext("2d"), a = 0, c = 0, m = 10; n.font = `${e}px ${o}`; let s = m, r = 0; l.items.forEach(l => { let e, o; null !== l.symbol ? (a = Math.max(a, 2 * l.symbol.radius), c = Math.max(c, 2 * l.symbol.radius), e = n.measureText(l.type).width) : null !== l.icon && (a = Math.max(a, l.icon.iconSize[1]), c = Math.max(c, l.icon.iconSize[0]), o = n.measureText(l.type).width); let t = void 0 !== e ? e : void 0 !== o ? o : 0; r = Math.max(r, 10 + a + 10 + t + 10) }), s = (a + 10) * l.items.length + m, i.width = r, i.height = s; let $ = m; l.items.forEach((l, i) => { if (console.log(l), null !== l.symbol) { let m = l.symbol.radius; n.beginPath(), n.arc(10 + c / 2, $ + a / 2, m, 0, 2 * Math.PI), n.fillStyle = l.symbol.fillColor, n.fill(), n.lineWidth = l.symbol.weight, n.strokeStyle = l.symbol.color, n.stroke(), n.fillStyle = l.symbol.color || "black" } else if (null !== l.icon) { console.log(l.icon.iconUrl); let s = new Image; s.src = l.icon.iconUrl, n.drawImage(s, 10, $, l.icon.iconSize[0], l.icon.iconSize[1]) } n.fillStyle = t; let r = $ + a / 2 + e / 2; n.font = `${e}px ${o}`, n.fillText(l.type, 10 + a + 10, r), $ += a + 10 }) };